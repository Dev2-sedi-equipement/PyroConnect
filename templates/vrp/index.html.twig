{% extends 'base.html.twig' %}

{% block title %}Hello VrpController!{% endblock %}
  
{% block body %}

    {% include 'Component/navbar/Desktop/navbar.html.twig' %}
    {% include 'Component/navbar/Mobile/navbar.html.twig' %}

    

    <section class="content-vrp mt-4" data-turbo="true">
        {% for message in app.flashes('success') %}
            <div class="alert alert-success w-100 text-center text-bg-info" style="margin-top: 6rem;  margin-bottom: -6rem;" role="alert">
                {{ message }}
            </div>
        {% endfor %}

        {% include 'Component/optionsVRP.html.twig' %}

        <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" fill="currentColor" style="top:190px;"class="bi bi-wifi-off position-absolute start-0 text-danger d-none"  id="wifiOff" viewBox="0 0 16 16">
              <path d="M10.706 3.294A12.6 12.6 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.52.52 0 0 0 .668.05A11.45 11.45 0 0 1 8 4q.946 0 1.852.148zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065 8.45 8.45 0 0 1 3.51-1.27zm2.596 1.404.785-.785q.947.362 1.785.907a.482.482 0 0 1 .063.745.525.525 0 0 1-.652.065 8.5 8.5 0 0 0-1.98-.932zM8 10l.933-.933a6.5 6.5 0 0 1 2.013.637c.285.145.326.524.1.75l-.015.015a.53.53 0 0 1-.611.09A5.5 5.5 0 0 0 8 10m4.905-4.905.747-.747q.886.451 1.685 1.03a.485.485 0 0 1 .047.737.52.52 0 0 1-.668.05 11.5 11.5 0 0 0-1.811-1.07M9.02 11.78c.238.14.236.464.04.66l-.707.706a.5.5 0 0 1-.707 0l-.707-.707c-.195-.195-.197-.518.04-.66A2 2 0 0 1 8 11.5c.374 0 .723.102 1.021.28zm4.355-9.905a.53.53 0 0 1 .75.75l-10.75 10.75a.53.53 0 0 1-.75-.75z"/>
            </svg>
            <p id="noDossierFound" class="pt-3 text-white text-center mt-3 fs-3  d-none">Aucun dossier disponible.</p>
        </div>

{# <div id="result"></div> #}
        <div class="wifiOff">
            <div class="modal" style="background-color: #0000008a; " tabindex="-1">
            <div class="modal-dialog modal-dialog-centered justify-content-center">
                <div class="modal-content bg-dark text-white">
                
                <div class="modal-body fs-4 text">
                    <h3 class="lost-connexion-h3"><i class="bi bi-wifi-off"></i> Votre connexion internet a été interrompu! Veuillez vous connecter à internet. </h3>
                </div>
            
                </div>
            </div>
            </div>
        </div>




</section>

    <style>body{height: 100vh!important;}</style>

    {# <script>
        if (typeof(EventSource) !== "undefined") {
            const eventSource = new EventSource("demo_sse.php");
            eventSource.onmessage = function(event) {
                document.getElementById("result").innerHTML += "<div class='bg-success'>" + event.data + "</div><br>";
                 // Ferme la connexion SSE après réception du premier message
            };
        } else {
            document.getElementById("result").innerHTML = "Désolé, votre navigateur ne prend pas en charge les événements envoyés par le serveur (SSE)...";
        }
    </script> #}



{% endblock %}
